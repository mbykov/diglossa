{"version":3,"sources":["webpack://glossa/./src/lib/utils.js","webpack://glossa/./src/css/popup.css","webpack://glossa/./node_modules/css-loader/dist/runtime/api.js","webpack://glossa/./src/css/popup.css?0273","webpack://glossa/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://glossa/external \"electron\"","webpack://glossa/external \"lodash\"","webpack://glossa/external \"mousetrap\"","webpack://glossa/webpack/bootstrap","webpack://glossa/webpack/runtime/compat get default export","webpack://glossa/webpack/runtime/define property getters","webpack://glossa/webpack/runtime/hasOwnProperty shorthand","webpack://glossa/webpack/runtime/make namespace object","webpack://glossa/./src/popup.js"],"names":["log","console","hashCode","s","split","reduce","a","b","charCodeAt","q","sel","document","querySelector","qs","querySelectorAll","create","tag","style","el","createElement","classList","add","recreateDiv","parentElement","removeChild","recreate","element","newElement","cloneNode","parentNode","replaceChild","ctext","str","createTextNode","span","textContent","space","br","oBR","div","p","empty","hasChildNodes","lastChild","remove","removeAll","els","forEach","findAncestor","cls","contains","getCoords","rect","getBoundingClientRect","placePopup","coords","top","join","left","insertAfter","referenceNode","newNode","insertBefore","nextSibling","zerofill","number","size","toString","length","cleanStr","trim","replace","ndash","cleanDname","descr","author","title","name","lang","slice","replaceEl","html","parentElem","innerElem","firstChild","fromHTML","innerHTML","previousSiblings","elem","sibs","previousSibling","nodeName","push","splitByPhrases","scrollToPosition","scrollTop","osec","selectParallelBooks","store","bid","libook","book","books","tokenizer","filter","Boolean","mouse","require","History","constructor","index","state","Popup","back","render","forward","rdicts","opopup","rdict","odict","drawRdict","appendChild","createDict","otmpl","odname","dname","oquery","wf","dicts","dict","example","examples","odl","drawDict","odt","_id","pos","odd","opos","morphs","omorph","map","m","tense","numper","gend","numcase","_","trns","trn","popup","ipcRenderer","event","qresult","bind","ev","ddfirst","dds","show","showResults","hideResults","dl","toggleResults","ddl","opened","openFirstResult","closest","nextddl","ddc","nextddc","ndds","addEventListener","target","getNextSiblings","shiftKey","scrollPopup","ocurrent","delta","deltaY"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,CAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AA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","file":"popup.js","sourcesContent":["import _ from 'lodash'\n// const natural = require('natural')\n\n// let util = require('util')\n\nexport const log = console.log\n\n// https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript\nexport function hashCode(s) {\n  return s.split(\"\").reduce(function(a,b){a=((a<<5)-a)+b.charCodeAt(0);return a&a},0);\n}\n\nexport function q (sel) {\n  return document.querySelector(sel)\n}\n\nexport function qs (sel) {\n  return document.querySelectorAll(sel)\n}\n\nexport function create (tag, style) {\n  let el = document.createElement(tag)\n  if (style) el.classList.add(style)\n  return el\n}\n\nexport function recreateDiv (sel) {\n  let el = document.querySelector(sel)\n  if (el) el.parentElement.removeChild(el)\n  el = document.createElement('div')\n  el.classList.add(sel)\n  // el.id = sel\n  return el\n}\n\nexport function recreate (element) {\n  var newElement = element.cloneNode(true)\n  element.parentNode.replaceChild(newElement, element)\n}\n\nexport function ctext (str) {\n  return document.createTextNode(str)\n}\n\nexport function span (str, style) {\n  let el = document.createElement('span')\n  el.textContent = str\n  if (style) el.classList.add(style)\n  return el\n}\n\nexport function space () {\n  return document.createTextNode(' ')\n}\n\n\nexport function br () {\n  let oBR = document.createElement('br')\n  return oBR\n}\n\nexport function div (str, style) {\n  let el = document.createElement('div')\n  el.textContent = str\n  if (style) el.classList.add(style)\n  return el\n}\n\nexport function p (str, style) {\n  let el = document.createElement('p')\n  el.textContent = str\n  if (style) el.classList.add(style)\n  return el\n}\n\nexport function empty (el) {\n  if (!el) return\n  while (el.hasChildNodes()) {\n    el.removeChild(el.lastChild)\n  }\n}\n\nexport function remove (el) {\n  if (!el) return\n  el.parentElement.removeChild(el)\n}\n\nexport function removeAll (els) {\n  els.forEach(el => { el.parentElement.removeChild(el) })\n}\n\nexport function findAncestor (el, cls) {\n  while ((el = el.parentElement) && !el.classList.contains(cls)) {\n    return el\n  }\n}\n\nexport function getCoords (el) {\n  let rect = el.getBoundingClientRect()\n  return rect\n}\n\nexport function placePopup (coords, el) {\n  let top = [coords.top, 'px'].join('')\n  let left = [coords.left, 'px'].join('')\n  el.style.top = top\n  el.style.left = left\n}\n\n// https://stackoverflow.com/questions/4793604/how-to-insert-an-element-after-another-element-in-javascript-without-using-a-lib\nexport function insertAfter(referenceNode, newNode) {\n  referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n}\n\nexport function zerofill(number, size) {\n  number = number.toString()\n  while (number.length < size) number = \"0\" + number\n  return number;\n}\n\nexport function cleanStr(str) {\n  return str.trim().replace(/\\n+/g, '\\n').replace(/↵+/, '\\n').replace(/  +/, ' ').replace(/ /g, '') // .replace(/\\s+/, ' ')\n}\n\nexport function ndash(str) {\n  return str.trim().replace(/^--/, '–').replace(/^—/, '–').replace(/ - /g, ' – ') // m-dash: —\n}\n\nexport function cleanDname(descr) {\n  if (!descr.author) descr.author = ''\n  if (!descr.title) descr.title = descr.name || ''\n  let lang = descr.lang || ''\n  // let str = [descr.type || '', descr.lang || '', descr.author.slice(0,25), descr.title.slice(0,25)].join('-')\n  let str = [lang, descr.author.slice(0,25), descr.title.slice(0,25)].join('-')\n  return str.replace(/[)(,\\.]/g,'').replace(/\\s+/g, '-').replace(/\\//g, '_')\n}\n\n// ev.preventDefault()\n// ev.stopPropagation()\n\nexport function replaceEl (el, html) {\n  const parentElem = el.parentNode\n  let innerElem\n  while (innerElem = el.firstChild) { parentElem.insertBefore(innerElem, el) }\n  parentElem.removeChild(el)\n}\n\nexport function fromHTML(html) {\n  const div = document.createElement('div')\n  div.innerHTML = html\n  return div.firstChild\n}\n\nexport function previousSiblings(elem) {\n  let sibs = []\n  while (elem = elem.previousSibling) {\n    if (elem.nodeName !== 'SPAN') continue\n    sibs.push(elem)\n  }\n  return sibs\n}\n\nexport function splitByPhrases(str) {\n  return str.replace(/([.?!])\\s*(?=[A-Z])/g, \"$1|\").split(\"|\")\n}\n\n\n// PAGE\nexport function scrollToPosition(scrollTop) {\n  let osec = q('.page')\n  osec.scrollTop = scrollTop\n}\n\nexport function selectParallelBooks(store, bid) {\n  for (let libook in store) {\n    for (let book of store[libook].books) {\n      if (book.bid == bid) return store[libook].books\n    }\n  }\n}\n\nexport function tokenizer (str) {\n  return str.split(/[\\p{P} ]+/ug).filter(Boolean)\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/*  */\\n\\n@tailwind base;\\n@tailwind components;\\n\\n.section {\\n    @apply p-4 text-gray-900 w-full bg-gray-200 shadow-md rounded m-4\\n}\\n\\n.header {\\n    @apply py-2 mb-1 text-left text-gray-900 w-full bg-gray-100 shadow-md rounded\\n}\\n\\n.header-cell {\\n    @apply px-12\\n}\\n\\n@tailwind utilities;\\n\\n.tmpl {\\n    display: none!important;\\n}\\n\\nbody {\\n    margin: 0;\\n    height: 100%;\\n    font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif;\\n    overflow-y: hidden;\\n    overflow-x: hidden;\\n}\\n\\nhtml {\\n    margin: 0;\\n    height: 100%;\\n    overflow-y: hidden;\\n    overflow-x: hidden;\\n}\\n\\nh4 {\\n    color: maroon;\\n}\\n\\n#popup {\\n    padding: 1em;\\n    background-color: #ffffcc;\\n    border-style: solid;\\n    border-width: 1px;\\n    font-size: smaller;\\n    border-color: #cacd58;\\n    /* box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75); */\\n    height: 100%;\\n    line-height: 1.1;\\n    /* height: 400px; */\\n    overflow-y: hidden;\\n    overflow-x: hidden;\\n}\\n\\n.dict-container {\\n  background-color: #fffddd;\\n  margin-bottom: 25px;\\n}\\n\\n.dict-header {\\n  padding: 10px;\\n  background-color: #ffe;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.dict-query {\\n    color: maroon;\\n    font-weight: bold;\\n    /* background-color: #eee; */\\n}\\n\\n.dict-dname {\\n    /* float: right; */\\n    color: green;\\n}\\n\\n\\n\\ndt {\\n  font-weight: bold;\\n  cursor: pointer;\\n}\\n\\ndl,\\ndd {\\n    /* font-size: .9em; */\\n    margin-left: 1em;\\n    margin-top: 5px;\\n}\\n\\ndd:before {\\n    content:  \\\"- \\\";\\n}\\n\\ndd.morph {\\n  background-color: white;\\n  padding: 5px;\\n}\\n\\n\\n.hidden {\\n    display: none!important;\\n}\\n\\n\\n.ellipsis::after {\\n    content: '...'\\n}\\n\\nabr {\\n    color: green;\\n    font-weight: bold;\\n}\\n\\n.morestr {\\n  color: maroon;\\n}\\n\\nfont {\\n  color: darkgreen;\\n  font-weight: bold;\\n}\\n\\nb {\\n  font-weight: bold;\\n}\\n\\ni {\\n  font-weight: italic;\\n}\\n\\n.green {\\n  color: green;\\n}\\n\\n.darkgreen {\\n  color: darkgreen;\\n}\\n\\n.red {\\n  color: red;\\n}\\n\\n.darkred {\\n  color: darkred;\\n}\\n\\n.blue {\\n  color: red;\\n}\\n\\n.darkblue {\\n  color: darkred;\\n}\\n\\n.grey {\\n  color: grey;\\n}\\n\\n.maroon {\\n  color: maroon;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./popup.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","module.exports = require(\"electron\");;","module.exports = require(\"lodash\");;","module.exports = require(\"mousetrap\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","//\n\nimport './css/popup.css';\n\nimport _ from 'lodash'\nimport { ipcRenderer } from \"electron\";\nconst mouse = require('mousetrap')\nimport { q, qs, empty, create, remove, span, p, div } from './lib/utils'\n\nconst log = console.log\n\nclass History {\n  constructor() {\n    this.store = [],\n    this.index = 0\n  }\n\n  get state() {\n    return this.store[this.index]\n  }\n\n  set state(state) {\n    this.store.push(state)\n    this.index = this.store.length -1\n  }\n}\n\nexport class Popup extends History {\n  constructor() {\n    super()\n  }\n\n  back() {\n    if (this.index) this.index--\n    this.render()\n  }\n\n  forward() {\n    if (this.index < this.store.length-1) this.index++\n    this.render()\n  }\n\n  log() {\n    log('popup', this)\n  }\n\n  render() {\n    let rdicts = this.state\n    if (!rdicts) return\n    const opopup = q('#popup')\n    empty(opopup)\n    rdicts.forEach(rdict=> {\n      let odict = drawRdict(rdict)\n      opopup.appendChild(odict)\n    })\n  }\n}\n\nfunction createDict() {\n  const otmpl = q('.dict-container.tmpl')\n  const odict = otmpl.cloneNode(true)\n  odict.classList.remove('tmpl')\n  return odict\n}\n\nfunction drawRdict(rdict) {\n  log('_DRAW-R-DICT', rdict)\n  let odict = createDict()\n  let odname = odict.querySelector('.dict-dname')\n  odname.textContent = rdict.dname\n  let oquery = odict.querySelector('.dict-query')\n  oquery.textContent = rdict.wf\n  // rdict.dicts = rdict.dicts.filter(dict=> dict.trns)\n  let dicts = rdict.dicts.filter(dict=> !dict.example)\n  let examples = rdict.dicts.filter(dict=> dict.example)\n\n  dicts.forEach(dict=> {\n    let odl = drawDict(dict)\n    odict.appendChild(odl)\n  })\n\n  examples.forEach(dict=> {\n    let odl = drawDict(dict)\n    odl.classList.add('dict-example')\n    odict.appendChild(odl)\n  })\n  return odict\n}\n\nfunction drawDict(dict) {\n  let otmpl = q('.dict-dl.tmpl')\n  const odl = otmpl.cloneNode(true)\n  odl.classList.remove('tmpl')\n  let odt = odl.querySelector('.dict-dt')\n  odt.textContent = dict._id // rdict || dict.term /// <<< ==================== here greek\n  odl.appendChild(odt)\n  otmpl = q('.dict-dd.tmpl')\n\n  if (dict.pos) {\n    const odd = otmpl.cloneNode(true)\n    odd.classList.remove('tmpl')\n    odd.classList.add('morph')\n    const opos = create('span')\n    opos.textContent = dict.pos\n    opos.classList.add('green')\n    odd.appendChild(opos)\n    if (dict.morphs) {\n      const omorph = create('span')\n      omorph.classList.add('maroon')\n      let morphs\n      if (!dict.pos) dict.pos = 'verb'\n      if (dict.pos == 'verb') morphs = dict.morphs.map(m=> [m.tense, m.numper].join('.'))\n      else morphs = dict.morphs.map(m=> [m.gend, m.numcase].join('.'))\n      morphs = _.uniq(morphs)\n      // log('_MRPHS', morphs)\n\n      omorph.textContent = ': ' + morphs.join(', ')\n      odd.appendChild(omorph)\n    }\n    odl.appendChild(odd)\n  }\n\n  dict.trns = _.flatten(dict.trns) // это нужно поправить в словаре\n\n  dict.trns.forEach(trn=> {\n    if (trn == dict._id) return\n    const odd = otmpl.cloneNode(true)\n    odd.classList.remove('tmpl')\n    // odd.textContent = trn\n    odd.innerHTML = trn\n    odl.appendChild(odd)\n  })\n  return odl\n}\n\nlet popup = new Popup()\n\nipcRenderer.on('data', function (event, qresult) {\n  popup.state = qresult\n  popup.render()\n})\n\nmouse.bind('esc', function(ev) {\n  ipcRenderer.send('hide-popup-window')\n})\n\nmouse.bind(['alt+left'], function(ev) {\n  popup.back()\n})\n\nmouse.bind(['alt+right'], function(ev) {\n  popup.forward()\n})\n\nmouse.bind(['ctrl+v'], function(ev) {\n  popup.log()\n})\n\nmouse.bind('space', function(ev) {\n  const ddfirst = q('.dict-dd')\n  const dds = qs('.dict-dd')\n  let show = ddfirst.classList.contains('hidden') ? true : false\n  if (show) showResults(dds)\n  else hideResults(dds)\n})\n\nfunction showResults(dds) {\n  dds.forEach(dl=> { dl.classList.remove('hidden') })\n}\n\nfunction hideResults(dds) {\n  dds.forEach(dl=> { dl.classList.add('hidden') })\n}\n\nfunction toggleResults(dds, show) {\n  if (show) showResults(dds)\n  else hideResults(dds)\n}\n\nmouse.bind('tab', function(ev) {\n  let ddl\n  let opened = q('.dict-dd:not(.hidden)')\n  if (!opened) {\n    openFirstResult()\n    return\n  }\n  ddl = opened.closest('.dict-dl')\n  let dds = ddl.querySelectorAll('.dict-dd')\n  hideResults(dds)\n\n  let nextddl = ddl.nextSibling\n  if (!nextddl) {\n    let ddc = opened.closest('.dict-container')\n    let nextddc = ddc.nextSibling\n    if (nextddc) nextddl = nextddc.querySelector('.dict-dl')\n    else {\n      openFirstResult()\n      return\n    }\n  }\n  log('_N', nextddl)\n  let ndds = nextddl.querySelectorAll('.dict-dd')\n  showResults(ndds)\n})\n\nfunction openFirstResult() {\n  let ddl = q('.dict-dl')\n  let dds = ddl.querySelectorAll('.dict-dd')\n  showResults(dds)\n}\n\ndocument.addEventListener('click',  (ev) => {\n  let ddl = ev.target.closest('.dict-dl')\n  if (!ddl) return\n  let ddfirst = ddl.querySelector('.dict-dd')\n  let show = ddfirst.classList.contains('hidden') ? true : false\n  let dds = ddl.querySelectorAll('.dict-dd')\n  if (show) showResults(dds)\n  else hideResults(dds)\n})\n\nfunction getNextSiblings(elem) {\n  var sibs = [];\n  while (elem = elem.nextSibling) {\n    sibs.push(elem);\n  }\n  return sibs;\n}\n\ndocument.addEventListener(\"wheel\", function(ev) {\n  if (ev.shiftKey == true) return\n  scrollPopup(ev)\n}, false)\n\nfunction scrollPopup(ev) {\n  let ocurrent = ev.target.closest('#popup')\n  let delta = (ev.deltaY > 0) ? 32 : -32\n  ocurrent.scrollTop += delta\n}\n"],"sourceRoot":""}